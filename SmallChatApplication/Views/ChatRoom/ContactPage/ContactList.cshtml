@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<style>
    .contact-page-container {
        --contact-page-container-height: 100vh;
        --page-info-container-height: 7.5vh;
        --contact-list-container-height: calc(var(--contact-page-container-height) - var(--page-info-container-height));
        height: var(--contact-page-container);
        border-left: 1px solid black;
    }

    .page-info-container {
        height: var(--page-info-container-height);
        background-color: white;
        border-bottom: 1px solid black;
    }

    .page-info-container {
        height: var(--page-info-container-height);
        border-bottom: 1px solid black;
    }

        .page-info-container .info-container {
            margin: 0.5rem 1rem;
        }

            .page-info-container .info-container p {
                font-size: 1.5rem;
                font-weight: 600;
            }

        .page-info-container .avatar-container .avatar-image {
            width: 2rem;
            margin: calc((var(--page-info-container-height) - 2rem)/2);
        }


    .contact-list-container {
        height: var(--contact-list-container-height);
        background-color: #FFFFFF;
    }

    .contact-row {
        margin: 0rem 3rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid black;
        transition: background-color 0.1s ease-in-out;
    }

        .contact-row:hover {
            background-color: #F3F5F6;
        }

        .contact-row .contact-info-container {
            display: flex;
            align-items: center;
            padding: 0.5rem;
        }

        .contact-row .btn-container {
            display: flex;
        }

            .contact-row .btn-container button {
                padding: 0.5rem;
                margin: 0rem 0.5rem;
                display: flex;
                align-items: center;
                font-weight: bold;
            }


        .contact-row p {
            margin-bottom: 0px;
            margin-left: 1rem;
            font-weight: bold;
            font-size: large;
        }

        .contact-row .avatar-image {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border-radius: 50%;
        }


    .group-list-container {
        display: none;
    }

    .friend-request-list-container {
        display: none;
    }

</style>



<div class="contact-page-container">

    <div class="friend-list-container">
        <div class="page-info-container d-flex">
            <div class="avatar-container">
                <img class="avatar-image" src="/img/add-user.png" />
            </div>
            <div class="info-container">
                <p> Danh sách bạn bè </p>
            </div>
        </div>
        <div class="contact-list-container">
            @* =================================== Insert data here ================================= *@
        </div>
    </div>

    <div class="group-list-container">
        <div class="page-info-container d-flex">
            <div class="avatar-container">
                <img class="avatar-image" src="/img/add-user.png" />
            </div>
            <div class="info-container">
                <p> Danh sách nhóm </p>
            </div>
        </div>
        <div class="contact-list-container">
            @* =================================== Insert data here ================================= *@
        </div>
    </div>

    <div class="friend-request-list-container">
        <div class="page-info-container d-flex">
            <div class="avatar-container">
                <img class="avatar-image" src="/img/add-user.png" />
            </div>
            <div class="info-container">
                <p> Lời mời kết bạn </p>
            </div>
        </div>
        <div class="contact-list-container">
            @* =================================== Insert data here ================================= *@
        </div>
    </div>
</div>


@* Load data dynamically *@
<script>
    $(document).ready(function () {
        const CONTACT_PAGE_CONTAINER = $(".contact-page-container");
        const FRIEND_CONTACT_LIST_CONTAINER = CONTACT_PAGE_CONTAINER.find(".friend-list-container .contact-list-container");
        const GROUP_CONTACT_LIST_CONTAINER = CONTACT_PAGE_CONTAINER.find(".group-list-container .contact-list-container");
        const FRIEND_REQUEST_CONTACT_LIST_CONTAINER = CONTACT_PAGE_CONTAINER.find(".friend-request-list-container .contact-list-container");

        let user = {
            name: "Bò",
            gender: "Nam",
            DoB: "10-02-2003",
            phoneNumber: "+84123",
            backgroundImgURL: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Limousinedeface.JPG/1200px-Limousinedeface.JPG",
            avatarURL: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Limousinedeface.JPG/1200px-Limousinedeface.JPG",
        };
        let user2 = {
            name: "Heo",
            gender: "Nam",
            DoB: "10-02-2003",
            phoneNumber: "+84123",
            backgroundImgURL: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Limousinedeface.JPG/1200px-Limousinedeface.JPG",
            avatarURL: "https://cafefcdn.com/thumb_w/640/203337114487263232/2023/4/19/avatar1681948367685-16819483687562102599932.jpeg",
        };
        let user3 = {
            name: "Alo trả nợ ?",
            gender: "Nam",
            DoB: "10-02-2003",
            phoneNumber: "+84123",
            backgroundImgURL: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Limousinedeface.JPG/1200px-Limousinedeface.JPG",
            avatarURL: "https://cafefcdn.com/thumb_w/640/203337114487263232/2023/4/19/avatar1681948367685-16819483687562102599932.jpeg",
        };


        let group = {
            id: 1,
            name: 'Bàn chuyện linh tinh',
            leaderId: 1,
            deputyId: 1,
            avatarURL: "https://xwatch.vn/upload_images/images/2023/05/22/anh-meme-la-gi.jpg",
            inviteURL: ""
        };


        let group2 = {
            id: 2,
            name: 'Công việc',
            leaderId: 2,
            deputyId: 2,
            avatarURL: "https://info.totalwellnesshealth.com/hs-fs/hubfs/Relax-2.png",
            inviteURL: ""
        };

        renderFriend(user);
        renderFriend(user2);
        renderGroup(group);
        renderGroup(group2);
        renderFriendRequest(user3);
        function renderFriend(userObject) {
            //   <div class="contact-list-container">
            //     <div class="contact-row">
            //         <div class="contact-info-container">
            //             <div class="avatar-container">
            //                 <img class="avatar-image" src="/img/user.png" />
            //             </div>
            //             <div class="user-name">
            //                 <p>Lol</p>
            //             </div>
            //         </div>
            //         <div class="btn-container">
            //             <button class="btn btn-detail">...</button>
            //             <button class="btn btn-delete-friend">X</button>
            //         </div>
            //     </div>
            // </div>
            let contactRow = generateElement("div", "contact-row");
            $(FRIEND_CONTACT_LIST_CONTAINER).append($(contactRow));

            let contactInfoContainer = generateElement("div", "contact-info-container");
            let btnContainer = generateElement("div", "btn-container");
            $(contactRow).append(contactInfoContainer);
            $(contactRow).append(btnContainer);

            //contact info container
            let avatarContainer = generateElement("div", "avatar-container");
            let avatarImg = generateElement("img", "avatar-image");
            $(avatarImg).attr('src', userObject.avatarURL);
            $(avatarContainer).append(avatarImg);

            //username
            let userName = generateElement("div", "user-name");
            let name = generateElement("p", "");
            $(name).text(userObject.name);
            $(userName).append(name);

            $(contactInfoContainer).append(avatarContainer);
            $(contactInfoContainer).append(userName);

            //btn container
            let btnDetail = generateElement("button", "btn btn-detail");
            $(btnDetail).text("...");
            let btnDeleteFriend = generateElement("button", "btn btn-delete-friend");
            $(btnDeleteFriend).text("X");

            $(btnContainer).append(btnDetail);
            $(btnContainer).append(btnDeleteFriend);
        }

        function renderGroup(userOject) {
            //   <div class="contact-list-container">
            // <div class="contact-row">
            //     <div class="contact-info-container">
            //         <div class="avatar-container">
            //             <img class="avatar-image" src="/img/user.png" />
            //         </div>
            //         <div class="user-name">
            //             <p>Lol</p>
            //         </div>
            //     </div>
            //     <div class="btn-container">
            //         <button class="btn btn-accept">Accept</button>
            //         <button class="btn btn-detail">...</button>
            //         <button class="btn btn-delete-friend">X</button>
            //     </div>
            // </div>
            // </div>
            let contactRow = generateElement("div", "contact-row");
            $(GROUP_CONTACT_LIST_CONTAINER).append($(contactRow));

            let contactInfoContainer = generateElement("div", "contact-info-container");
            let btnContainer = generateElement("div", "btn-container");
            $(contactRow).append(contactInfoContainer);
            $(contactRow).append(btnContainer);

            //contact info container
            let avatarContainer = generateElement("div", "avatar-container");
            let avatarImg = generateElement("img", "avatar-image");
            $(avatarImg).attr('src', userOject.avatarURL);
            $(avatarContainer).append(avatarImg);

            //username
            let userName = generateElement("div", "user-name");
            let name = generateElement("p", "");
            $(name).text(userOject.name);
            $(userName).append(name);

            $(contactInfoContainer).append(avatarContainer);
            $(contactInfoContainer).append(userName);

            //btn container
            let btnDetail = generateElement("button", "btn btn-detail");
            $(btnDetail).text("...");
            let btnDeleteFriend = generateElement("button", "btn btn-delete-friend");
            $(btnDeleteFriend).text("X");

            $(btnContainer).append(btnDetail);
            $(btnContainer).append(btnDeleteFriend);
        }

        function renderFriendRequest(groupObject) {
            // <div class="contact-list-container">
            //     <div class="contact-row">
            //         <div class="contact-info-container">
            //             <div class="avatar-container">
            //                 <img class="avatar-image" src="/img/user.png" />
            //             </div>
            //             <div class="user-name">
            //                 <p>Lol</p>
            //             </div>
            //         </div>
            //         <div class="btn-container">
            //             <button class="btn btn-accept">Accept</button>
            //             <button class="btn btn-detail">...</button>
            //             <button class="btn btn-delete-friend">X</button>
            //         </div>
            //     </div>
            // </div>

            let contactRow = generateElement("div", "contact-row");
            $(FRIEND_REQUEST_CONTACT_LIST_CONTAINER).append($(contactRow));

            let contactInfoContainer = generateElement("div", "contact-info-container");
            let btnContainer = generateElement("div", "btn-container");
            $(contactRow).append(contactInfoContainer);
            $(contactRow).append(btnContainer);

            //contact info container
            let avatarContainer = generateElement("div", "avatar-container");
            let avatarImg = generateElement("img", "avatar-image");
            $(avatarImg).attr('src', groupObject.avatarURL);
            $(avatarContainer).append(avatarImg);

            //username
            let userName = generateElement("div", "user-name");
            let name = generateElement("p", "");
            $(name).text(groupObject.name);
            $(userName).append(name);

            $(contactInfoContainer).append(avatarContainer);
            $(contactInfoContainer).append(userName);

            //btn container
            let btnAccept = generateElement("button", "btn btn-accept");
            $(btnAccept).text("Accept");
            let btnDetail = generateElement("button", "btn btn-detail");
            $(btnDetail).text("...");
            let btnDeleteFriend = generateElement("button", "btn btn-delete-friend");
            $(btnDeleteFriend).text("X");

            $(btnContainer).append(btnAccept);
            $(btnContainer).append(btnDetail);
            $(btnContainer).append(btnDeleteFriend);
        }



        function generateElement(elementName, className) {
            let divElement = document.createElement(elementName);
            divElement.className = className;
            return divElement;
        }
    });

</script>